{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/til35","result":{"data":{"markdownRemark":{"id":"89de05ad-97a8-5ecb-a12e-7e0c6df83260","html":"<h3 id=\"데이터베이스란\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%EB%9E%80\" aria-label=\"데이터베이스란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터베이스란?</h3>\n<p>데이터베이스란 데이터 저장/편집/가공/보존을 편리하게 해주는 시스템이다. 해당 애플리케이션을 종료하면 데이터가 휘발되는 메모리와는 반대 성질을 가지고 있다. 메모리는 속도가 빠르기 때문에 저장은 데이터베이스에, 작업은 메모리에서 한다.</p>\n<h3 id=\"관계형-데이터베이스-시스템rdbms-relation-database-management-system\" style=\"position:relative;\"><a href=\"#%EA%B4%80%EA%B3%84%ED%98%95-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%8B%9C%EC%8A%A4%ED%85%9Crdbms-relation-database-management-system\" aria-label=\"관계형 데이터베이스 시스템rdbms relation database management system permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>관계형 데이터베이스 시스템(RDBMS, Relation DataBase Management System)</h3>\n<p>데이터를 상호관련성을 가진 형태로 표현한 데이터베이스 시스템이다. 상호관련성이란, 서로 연결지을 수 있다는 것을 뜻한다. 모든 데이터는 2차원 테이블로 표현되며, 각 테이블은 열(column)과 행(row)으로 구성된다. 아래 예시처럼 열에는 필드명이 들어가며 행에는 실제 값이 들어간다.</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">users</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">id</td>\n</tr>\n<tr>\n<td align=\"left\">email</td>\n</tr>\n<tr>\n<td align=\"left\">password</td>\n</tr>\n</tbody>\n</table>\n<p>각 테이블은 상호관련성을 가지고 서로 연결할 수 있다. 이때 각 테이블의 고유 키(Primary Key)로 연결한다. 테이블 연결 방식은 <strong>one to one</strong>, <strong>one to many</strong>, <strong>many to many</strong> 로 나눌 수 있는데 이해를 쉽게 하기 위해 아래 이미지를 보자.</p>\n<ul>\n<li>one to one 방식\n<img src=\"/media/db-oto.png\" alt=\"table oto\">\nusers는 유저가 가입 시 필수로 입력해야 하는 정보를 담은 테이블이라고 하고, 부가로 입력해야 하는 정보를 user_profile에 담았다고 가정해보자. 필수 정보든 부가 정보든 모든 유저는 하나의 프로필을 갖는다. 따라서 이 두 테이블을 연결하면 one to one 연결이 된다. 유저 A의 부가 정보는 유저 A 프로필에만 해당하는 내용이기 때문이다.</li>\n</ul>\n<br>\n<ul>\n<li>one to many 방식\n<img src=\"/media/db-otm.png\" alt=\"table otm\">\ncustomers는 유저 이름을 담은 테이블이라고 하고, orders는 그 유저의 주문 정보를 담은 테이블이라고 하자. 모든 주문 정보는 고유하며, 같은 물건을 주문했다고 하더라도 유저를 구분해서 연결해야 한다. 한 유저가 여러 건의 주문을 할 수 있으므로 유저 하나에 여러 주문 정보 테이블을 연결할 수 있다. 이것을 one to many 방식이라 한다.</li>\n</ul>\n<br>\n<ul>\n<li>many to many 방식\n<img src=\"/media/db-mtm.png\" alt=\"table mtm\">\n소설 단편집을 여러 권 출판한 작가진이 있다고 가정해보자. 책 A 작가진 A, B, C, D가 있다고 가정하면 책 A는 작가 A, B, C, D 모두와 연결된다. 먼저 작가 테이블을 생성하고, 책 테이블을 생성한다. 그 다음에 작가와 책 테이블을 이어줄 매개인 책 A 테이블을 생성해서 작가 테이블, 책 테이블과 연결한다. 한 작가가 여러 책을 쓸 수 있고, 책 또한 여러 작가에 의해 쓰일 수 있다. 이것이 many to many 방식이다 연결고리가 되는 중간 테이블명은 보통 <code class=\"language-text\">첫 번째 테이블명_두 번째 테이블명</code>으로 짓는다.</li>\n</ul>\n<p>위 이미지에서 Primary key의 역할 또한 알 수 있는데, 한 테이블에 <code class=\"language-text\">연결할 다른 테이블명_연결할 다른 테이블의 PK명</code>을 입력해주고 연결할 테이블에서 필드에 해당하는 값을 찾아서 써주면 된다. 이것이 Foreign key 개념을 이용해 테이블을 연결하는 방식이다.</p>\n<br>\n<h3 id=\"데이터베이스의-성질\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%EC%9D%98-%EC%84%B1%EC%A7%88\" aria-label=\"데이터베이스의 성질 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터베이스의 성질</h3>\n<ul>\n<li>원자성(Atomicity)</li>\n<li>일관성(Consistency)</li>\n<li>고립성(Isolation)</li>\n<li>지속성(Durability)</li>\n</ul>\n<p>이것을 <strong>ACID</strong>라고 한다.\n데이터베이스의 성질을 뜯어보기 전에 <strong>트랜잭션</strong>이라는 용어를 짚고 넘어가자. 트랜잭션이란 요청이 수행되거나 수행되지 않는 하나의 작업 단위다. 즉 요청을 완수하고 작업을 끝내든, 오류가 나서 완수하지 못하고 끝내든 관계 없이 작업이 끝난다면 그 하나의 작업을 트랜잭션이라고 한다. 데이터베이스 관리 시스템(DMS) 성능은 초당 트랜잭션 실행 수(fps)로 측정한다.</p>\n<h4 id=\"원자성atomicity\" style=\"position:relative;\"><a href=\"#%EC%9B%90%EC%9E%90%EC%84%B1atomicity\" aria-label=\"원자성atomicity permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>원자성(Atomicity)</h4>\n<p>All or nothing. 작업을 완수하거나 아예 완수하지 못하거나. 트랜잭션이 부분적으로 실행되다가 중단되지 않는 것을 보장하는 능력이다. 은행 어플에서 송금을 하던 중 오류가 발생했다고 가정해보자. 내 통장에서 출금은 됐지만 상대 통장에는 입금되지 않고 중간에 작업이 끊겨버리면 안 된다. 내 통장에서 출금이 됐다면 상대 통장에 입금이 되어야 하고(요청한 작업 완수), 만약 송금 오류가 난다면 내 통장에서 돈이 빠져나간 걸 롤백으로 돌려놓고 작업이 종료되어야 한다(요청한 작업 완수하지 못했지만 트랜잭션 종료).</p>\n<h4 id=\"일관성consistency\" style=\"position:relative;\"><a href=\"#%EC%9D%BC%EA%B4%80%EC%84%B1consistency\" aria-label=\"일관성consistency permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>일관성(Consistency)</h4>\n<p>데이터 타입, 상태가 언제나 같은 상태로 유지되는 것을 말한다.</p>\n<h4 id=\"고립성isolation\" style=\"position:relative;\"><a href=\"#%EA%B3%A0%EB%A6%BD%EC%84%B1isolation\" aria-label=\"고립성isolation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>고립성(Isolation)</h4>\n<p>다른 트랜잭션의 연산 작업에 끼어들지 못하도록 보장하는 것을 말한다. 트랜잭션 밖에 있는 어떠한 연산도 중간 단계의 데이터를 볼 수 없다.</p>\n<h4 id=\"지속성durability\" style=\"position:relative;\"><a href=\"#%EC%A7%80%EC%86%8D%EC%84%B1durability\" aria-label=\"지속성durability permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>지속성(Durability)</h4>\n<p>성공적으로 수행된 트랜잭션은 영원히 반영되어야 하는 것을 말한다. 시스템 장애 발생 전 상태로 되돌리더라도, 모든 트랜잭션은 로그로 남는다.</p>\n<br>\n<h3 id=\"sqlrdbms-vs-nosql\" style=\"position:relative;\"><a href=\"#sqlrdbms-vs-nosql\" aria-label=\"sqlrdbms vs nosql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SQL(RDBMS) vs NoSQL</h3>\n<h4 id=\"sql이란\" style=\"position:relative;\"><a href=\"#sql%EC%9D%B4%EB%9E%80\" aria-label=\"sql이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SQL이란?</h4>\n<p>SQL은 데이터간 관계성을 고려하고 저장하기 때문에 데이터를 체계적으로 관리할 수 있다. 따라서 정형화된 데이터, 그리고 데이터의 완전성이 중요한 데이터를 저장하는 데에 유리하다. 하지만 데이터를 저장하기 전 테이블을 미리 정의해야 하므로 테이블 구조 변화에 발빠르게 대응할 수 없다. 같은 맥락에서 확장성이 떨어진다.</p>\n<h4 id=\"sql로-저장하면-좋은-데이터\" style=\"position:relative;\"><a href=\"#sql%EB%A1%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EB%A9%B4-%EC%A2%8B%EC%9D%80-%EB%8D%B0%EC%9D%B4%ED%84%B0\" aria-label=\"sql로 저장하면 좋은 데이터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SQL로 저장하면 좋은 데이터</h4>\n<p>전자상거래 정보, 은행 계좌 정보, 거래 정보 등</p>\n<h4 id=\"nosql이란\" style=\"position:relative;\"><a href=\"#nosql%EC%9D%B4%EB%9E%80\" aria-label=\"nosql이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NoSQL이란?</h4>\n<p>NoSQL은 SQL과 반대되는 개념이다. 테이블 구조를 미리 정의하지 않아도 되므로 데이터 구조 변화에 유연하게 대처할 수 있다. 확장하기가 쉽기 때문에 방대한 양의 데이터를 저장하는 데에 유리하다. 하지만 데이터 완전성이 덜 보장되며 트랜잭션이 안 되거나 불안정하다.</p>\n<h4 id=\"nosql로-저장하면-좋은-데이터\" style=\"position:relative;\"><a href=\"#nosql%EB%A1%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EB%A9%B4-%EC%A2%8B%EC%9D%80-%EB%8D%B0%EC%9D%B4%ED%84%B0\" aria-label=\"nosql로 저장하면 좋은 데이터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NoSQL로 저장하면 좋은 데이터</h4>\n<p>로그 데이터</p>","fields":{"slug":"/posts/til35","tagSlugs":["/tag/til/","/tag/database/","/tag/sql/","/tag/wecode/"]},"frontmatter":{"date":"2020-06-11T13:57:32","description":"데이터베이스가 무엇인지, 데이터베이스의 성질에는 어떤 것이 있는지 알아본다.","tags":["til","database","sql","wecode"],"title":"Database 기초","socialImage":"/naon.png"}}},"pageContext":{"slug":"/posts/til35"}}}